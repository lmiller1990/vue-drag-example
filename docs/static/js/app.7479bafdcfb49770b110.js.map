{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?dbc4","webpack:///./src/App.vue","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["App","id","boardId","targetId","sourceIndex","targetIndex","temp","pieceId","orderInBoard","selectortype_template_index_0_src_App","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","currentPiece","_l","attrs","on","dragover","dragend","boards","name","piece","class","toString","draggable","dragstart","dragoverPiece","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","vue_esm","use","vuex_esm","actions","updateGreeting","store","message","fetch","then","res","json","data","commit","title","Store","state","storeGreeting","mutations","UPDATE_GREETING","config","productionTip","el","template","components"],"mappings":"0IAmCAA,QAGA,wDAGAC,iCACA,yBACAC,8DACA,GAEA,8BACAC,8CAEAF,+BACAG,mFAOAC,4DACAD,qCAEAE,kGAIAC,mGAIA,4FAIAA,mCACA,mGAIA,sGAKAN,+IAOAA,0DAEAA,mBAGA,8EAKA,8GACA,0CAMA,iBACA,eACA,mBACA,mBAGA,gBACAA,GAAA,GAAAC,QAAA,EAAAM,aACA,IAAAP,GAAA,MAAAC,QAAA,EAAAM,aACA,IAAAP,GAAA,IAAAC,QAAA,EAAAM,aAGA,aAEA,gBACAP,GAAA,GAAAC,QAAA,EAAAM,aACA,IAAAP,GAAA,IAAAC,QAAA,EAAAM,aACA,IAAAP,GAAA,GAAAC,QAAA,EAAAM,aACA,IAAAP,GAAA,GAAAC,QAAA,EAAAM,aAGA,aAEA,sBC9HAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,UAAoBN,EAAAO,GAAA,OAAAP,EAAAQ,GAAAR,EAAAS,cAAA,QAAAT,EAAAU,GAAAV,EAAA,kBAAAV,GAAoF,OAAAc,EAAA,OAAiBE,YAAA,cAAAK,OAAiCrB,MAAQsB,IAAKC,SAAAb,EAAAa,SAAAC,QAAAd,EAAAc,WAA+CV,EAAA,OAAYE,YAAA,UAAoBN,EAAAO,GAAA,oBAAAP,EAAAQ,GAAAlB,GAAA,UAAAU,EAAAQ,GAAAR,EAAAe,OAAAzB,GAAA0B,MAAA,YAAAhB,EAAAO,GAAA,KAAAP,EAAAU,GAAAV,EAAAe,OAAAzB,GAAA,gBAAA2B,GAAqJ,OAAAb,EAAA,OAAiBc,MAAA,eAAA5B,EAAA,UAAAA,EAAA6B,WAAAR,OAA8DrB,GAAA2B,EAAA3B,GAAA8B,UAAA,IAA6BR,IAAKS,UAAArB,EAAAqB,UAAAR,SAAAb,EAAAsB,iBAAwDlB,EAAA,OAAYE,YAAA,aAAuBN,EAAAO,GAAA,aAAAP,EAAAQ,GAAAS,EAAA3B,IAAA,eAAAU,EAAAO,GAAA,KAAAH,EAAA,OAA4EE,YAAA,gBAA0BN,EAAAO,GAAA,oBAAAP,EAAAQ,GAAAS,EAAApB,cAAA,mBAAwE,MAAM,IAEp2B0B,oBCwBjBC,EAvBAC,EAAA,OAcAC,CACArC,EACAS,GATA,EAVA,SAAA6B,GACAF,EAAA,SAaA,KAEA,MAUA,oBCvBAG,EAAA,EAAIC,IAAIC,EAAA,GAER,IAYMC,GACJC,eADc,SACEC,EAAOC,GACrBC,MAAM,gDACLC,KAAK,SAACC,GACLA,EAAIC,OACHF,KAAK,SAACG,GACLN,EAAMO,OAAO,kBAAmBD,EAAKE,aAM7CR,EAAA,IAAmBH,EAAA,EAAKY,OACtBC,OAxBAC,cAAe,mBAyBfb,UACAc,WApBAC,gBADgB,SACCH,EAAOT,GACtBS,EAAMC,cAAgBV,MCP1BN,EAAA,EAAImB,OAAOC,eAAgB,EAG3B,IAAIpB,EAAA,GACFqB,GAAI,OACJhB,MAAOA,EACPiB,SAAU,SACVC,YAAc9D,IAAAmC","file":"static/js/app.7479bafdcfb49770b110.js","sourcesContent":["<template>\n  <div class=\"outer\">\n    {{ currentPiece }}\n    <div \n      class=\"board outer\" \n      v-for=\"id in boardIds\"\n      :id=\"id\" \n      @dragover=\"dragover\" \n      @dragend=\"dragend\" \n    >\n      <div class=\"title\">\n        Board Id {{ id }} name: {{ boards[id].name }}\n      </div>\n\n      <div \n        v-for=\"piece in boards[id].pieces\" \n        :id=\"piece.id\" \n        :class=\"'piece piece-' + id + ' board-' +  id.toString()\"\n        @dragstart=\"dragstart\" \n        @dragover=\"dragoverPiece\"\n        draggable \n      >\n        <div class=\"piece-id\">\n          {{ piece.id }} \n        </div>\n\n        <div class=\"piece-order\">\n          Order: {{ piece.orderInBoard }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app',\n\n  methods: {\n    dragoverPiece (e) {\n      let targetId = e.target.id\n      if (targetId && targetId != this.currentPiece.id) {\n        let sourceBoardId = this.currentPiece.boardId\n        let targetBoardId = e.srcElement.className.split(' ')[2].split('-')[1]\n        // same board - switch positions\n        if (sourceBoardId == targetBoardId) {\n          let targetIndex = this.getIndexInBoard(sourceBoardId, targetId)\n          let sourceIndex = this.getIndexInBoard(sourceBoardId, this.currentPiece.id)\n\n          this.swapPiecesInBoard(sourceBoardId, targetIndex, sourceIndex)\n        }\n      }\n    },\n\n    swapPiecesInBoard (boardId, targetIndex, sourceIndex) {\n      let temp = JSON.parse(JSON.stringify(this.boards[boardId].pieces[targetIndex]))\n\n      this.boards[boardId].pieces.splice(targetIndex, 1, this.boards[boardId].pieces[sourceIndex])\n      this.boards[boardId].pieces.splice(sourceIndex, 1, temp)\n\n    },\n\n    getIndexInBoard (boardId, pieceId) {\n      return this.boards[boardId].pieces.findIndex(x => x.id == pieceId)\n    },\n\n    inBoard (boardId, pieceId) {\n      return this.boards[boardId].pieces.filter(x => x.id == pieceId).length > 0\n    },\n\n    removePiece (boardId, pieceId) {\n      let index = this.boards[boardId].pieces.findIndex(x => x.id == pieceId)\n      this.boards[boardId].pieces.splice(index, 1)\n    },\n\n    addPiece (boardId, pieceId) {\n      this.boards[this.currentBoard].pieces.push({ id: pieceId, boardId, orderInBoard: '?' })\n    },\n\n    dragover (e) {\n      if (e.srcElement.className.includes('outer')) {\n        this.currentBoard = e.srcElement.id\n      }\n    },\n\n    dragend (e) {\n      if (this.inBoard(this.currentBoard, this.currentPiece.id) === false) {\n        // add new element\n        this.addPiece(parseInt(e.srcElement.id), this.currentPiece.id)\n        // remove old element\n        this.removePiece(this.originalBoard, this.currentPiece.id)\n      }\n\n      this.pieceId = -1\n    },\n\n    dragstart (e) {\n      // get the board from the class name\n      this.originalBoard = e.srcElement.className.split('-')[2]\n      this.currentPiece = this.boards[this.originalBoard].pieces.filter(x => x.id == e.srcElement.id)[0]\n    }\n  },\n  \n  data () {\n    return {\n      currentBoard: -1,\n      originalBoard: -1,\n      currentPiece: null,\n      boardIds: [0, 1, 2],\n      boards: {\n        '0': {\n          name: '上ボード',\n          pieces: [\n            { id: 10, boardId: 0, orderInBoard: 0 },\n            { id: 49545, boardId: 0, orderInBoard: 1 },\n            { id: 445, boardId: 0, orderInBoard: 2 },\n          ]\n        },\n        '1': {\n          name: '中ボード',\n          pieces: [\n            { id: 20, boardId: 1, orderInBoard: 0 },\n            { id: 566, boardId: 1, orderInBoard: 1 },\n            { id: 23, boardId: 1, orderInBoard: 2 },\n            { id: 40, boardId: 1, orderInBoard: 3 }\n          ] \n        },\n        '2': {\n          name: '下ボード',\n          pieces: []\n        },\n      }\n    }\n  }\n\n}\n</script>\n\n<style>\n.board {\n  border: 1px solid grey;\n  min-height: 200px;\n  margin: 10px;\n}\n\n.title {\n  border-bottom: 2px solid black;\n}\n\n.piece {\n  border: 1px solid pink;\n  padding: 2px;\n  margin: 2px;\n  display: flex;\n  justify-content: space-between;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"outer\"},[_vm._v(\"\\n  \"+_vm._s(_vm.currentPiece)+\"\\n  \"),_vm._l((_vm.boardIds),function(id){return _c('div',{staticClass:\"board outer\",attrs:{\"id\":id},on:{\"dragover\":_vm.dragover,\"dragend\":_vm.dragend}},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n      Board Id \"+_vm._s(id)+\" name: \"+_vm._s(_vm.boards[id].name)+\"\\n    \")]),_vm._v(\" \"),_vm._l((_vm.boards[id].pieces),function(piece){return _c('div',{class:'piece piece-' + id + ' board-' +  id.toString(),attrs:{\"id\":piece.id,\"draggable\":\"\"},on:{\"dragstart\":_vm.dragstart,\"dragover\":_vm.dragoverPiece}},[_c('div',{staticClass:\"piece-id\"},[_vm._v(\"\\n        \"+_vm._s(piece.id)+\" \\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"piece-order\"},[_vm._v(\"\\n        Order: \"+_vm._s(piece.orderInBoard)+\"\\n      \")])])})],2)})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-263f52b3\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-263f52b3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-263f52b3\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nconst state = {\n  storeGreeting: 'Hello from Vuex',\n\n}\n\n\nconst mutations = {\n  UPDATE_GREETING (state, message) {\n    state.storeGreeting = message\n  }\n}\n\nconst actions = {\n  updateGreeting (store, message) {\n    fetch('https://jsonplaceholder.typicode.com/posts/1')\n    .then((res) => {\n      res.json()\n      .then((data) => {\n        store.commit('UPDATE_GREETING', data.title) \n      })\n    })\n  }\n}\n\nexport default new Vuex.Store({\n  state,\n  actions,\n  mutations: mutations\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport myVuexStore from './store/'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  store: myVuexStore,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}